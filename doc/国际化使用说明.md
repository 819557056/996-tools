# å›½é™…åŒ– (i18n) ä½¿ç”¨è¯´æ˜

æœ¬é¡¹ç›®å·²å®ç°å›½é™…åŒ–åŠŸèƒ½ï¼Œå‚è€ƒ [it-tools](https://github.com/CorentinTh/it-tools) çš„å®ç°æ–¹å¼ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
MyTools/
â”œâ”€â”€ locales/              # è¯­è¨€æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ en.yml           # è‹±æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ zh.yml           # ä¸­æ–‡ç¿»è¯‘
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ plugins/
â”‚   â”‚   â””â”€â”€ i18n.ts      # i18n æ’ä»¶é…ç½®
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ LocaleSelector.vue  # è¯­è¨€é€‰æ‹©å™¨ç»„ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ i18n

```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { t, locale } = useI18n()
</script>

<template>
  <div>
    <h1>{{ t('home.title') }}</h1>
    <p>{{ t('home.subtitle') }}</p>
    <p>å½“å‰è¯­è¨€: {{ locale }}</p>
  </div>
</template>
```

### 2. æ·»åŠ è¯­è¨€é€‰æ‹©å™¨

åœ¨ä½ çš„ç»„ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨è¯­è¨€é€‰æ‹©å™¨ï¼š

```vue
<script setup lang="ts">
import LocaleSelector from '@/components/LocaleSelector.vue'
</script>

<template>
  <LocaleSelector />
</template>
```

## ğŸ“ æ·»åŠ æ–°çš„ç¿»è¯‘

### 1. åœ¨è¯­è¨€æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘é”®å€¼

**locales/zh.yml**
```yaml
home:
  title: 'æˆ‘çš„å·¥å…·'
  subtitle: 'å¼€å‘è€…å®ç”¨å·¥å…·é›†'

tools:
  myNewTool:
    title: 'æ–°å·¥å…·'
    description: 'è¿™æ˜¯ä¸€ä¸ªæ–°å·¥å…·'
```

**locales/en.yml**
```yaml
home:
  title: 'My Tools'
  subtitle: 'Handy tools for developers'

tools:
  myNewTool:
    title: 'New Tool'
    description: 'This is a new tool'
```

### 2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<template>
  <h1>{{ t('tools.myNewTool.title') }}</h1>
  <p>{{ t('tools.myNewTool.description') }}</p>
</template>
```

## ğŸŒ æ”¯æŒçš„è¯­è¨€

ç›®å‰æ”¯æŒçš„è¯­è¨€ï¼š
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (zh)
- ğŸ‡¬ğŸ‡§ English (en)

## ğŸ”§ é«˜çº§ç”¨æ³•

### å¸¦å‚æ•°çš„ç¿»è¯‘

**locales/zh.yml**
```yaml
message:
  welcome: 'æ¬¢è¿, {name}!'
  items: 'ä½ æœ‰ {count} ä¸ªé¡¹ç›®'
```

**ä½¿ç”¨æ–¹å¼ï¼š**
```vue
<template>
  <p>{{ t('message.welcome', { name: 'John' }) }}</p>
  <p>{{ t('message.items', { count: 5 }) }}</p>
</template>
```

### å¤æ•°å½¢å¼

**locales/en.yml**
```yaml
car: 'no car | one car | {count} cars'
```

**ä½¿ç”¨æ–¹å¼ï¼š**
```vue
<template>
  <p>{{ t('car', 0) }}</p>  <!-- "no car" -->
  <p>{{ t('car', 1) }}</p>  <!-- "one car" -->
  <p>{{ t('car', 10) }}</p> <!-- "10 cars" -->
</template>
```

### åœ¨ TypeScript ä¸­ä½¿ç”¨

```typescript
import { translate } from '@/plugins/i18n'

const message = translate('home.title')
console.log(message)
```

### åŠ¨æ€åˆ‡æ¢è¯­è¨€

```typescript
import { setLocale } from '@/plugins/i18n'

// åˆ‡æ¢åˆ°è‹±æ–‡
setLocale('en')

// åˆ‡æ¢åˆ°ä¸­æ–‡
setLocale('zh')
```

## ğŸ“¦ ç¿»è¯‘é”®ç»„ç»‡å»ºè®®

æ¨èæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ç¿»è¯‘é”®ï¼š

```yaml
# é€šç”¨ç¿»è¯‘
common:
  copy: 'å¤åˆ¶'
  clear: 'æ¸…ç©º'
  save: 'ä¿å­˜'

# å¯¼èˆª
nav:
  home: 'é¦–é¡µ'
  about: 'å…³äº'

# é¦–é¡µ
home:
  title: 'æ ‡é¢˜'
  subtitle: 'å‰¯æ ‡é¢˜'

# å·¥å…·ç›¸å…³
tools:
  uuid:
    title: 'UUID ç”Ÿæˆå™¨'
    description: 'ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦'
  base64:
    title: 'Base64 ç¼–ç '
    description: 'ç¼–ç å’Œè§£ç '
```

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹å½“å‰è¯­è¨€

```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { locale } = useI18n()

console.log('å½“å‰è¯­è¨€:', locale.value)
</script>
```

### æ£€æŸ¥ç¿»è¯‘é”®æ˜¯å¦å­˜åœ¨

```typescript
import { useI18n } from 'vue-i18n'

const { te } = useI18n()

if (te('home.title')) {
  console.log('ç¿»è¯‘é”®å­˜åœ¨')
} else {
  console.log('ç¿»è¯‘é”®ä¸å­˜åœ¨')
}
```

## ğŸ“š å‚è€ƒèµ„æº

- [Vue I18n å®˜æ–¹æ–‡æ¡£](https://vue-i18n.intlify.dev/)
- [it-tools é¡¹ç›®](https://github.com/CorentinTh/it-tools)
- [@intlify/unplugin-vue-i18n](https://github.com/intlify/bundle-tools/tree/main/packages/unplugin-vue-i18n)

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è¯­è¨€æ–‡ä»¶æ ¼å¼**: ä½¿ç”¨ YAML æ ¼å¼ï¼Œæ³¨æ„ç¼©è¿›ï¼ˆ2ä¸ªç©ºæ ¼ï¼‰
2. **ç¿»è¯‘é”®å‘½å**: ä½¿ç”¨å°å†™å­—æ¯å’Œç‚¹å·åˆ†éš”ï¼Œå¦‚ `tools.uuid.title`
3. **æœ¬åœ°å­˜å‚¨**: ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€ä¼šè‡ªåŠ¨ä¿å­˜åˆ° localStorage
4. **é»˜è®¤è¯­è¨€**: ç³»ç»Ÿä¼šæ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨é€‰æ‹©ï¼Œé»˜è®¤ä¸ºä¸­æ–‡

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä¿æŒä¸€è‡´æ€§**: ç›¸åŒçš„åŠŸèƒ½åœ¨ä¸åŒé¡µé¢ä½¿ç”¨ç›¸åŒçš„ç¿»è¯‘é”®
2. **é¿å…ç¡¬ç¼–ç **: æ‰€æœ‰ç”¨æˆ·å¯è§çš„æ–‡æœ¬éƒ½åº”è¯¥ä½¿ç”¨ i18n
3. **å®Œæ•´ç¿»è¯‘**: æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œç¡®ä¿æ‰€æœ‰æ”¯æŒçš„è¯­è¨€éƒ½æœ‰å¯¹åº”ç¿»è¯‘
4. **ç®€æ´æ˜äº†**: ç¿»è¯‘é”®åº”è¯¥æ¸…æ™°åœ°è¡¨è¾¾å…¶å«ä¹‰
5. **æµ‹è¯•**: åˆ‡æ¢è¯­è¨€æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

## ğŸ› ï¸ æ·»åŠ æ–°è¯­è¨€

### 1. åˆ›å»ºæ–°çš„è¯­è¨€æ–‡ä»¶

åœ¨ `locales/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå¦‚ `ja.yml`:

```yaml
home:
  title: 'ãƒã‚¤ãƒ„ãƒ¼ãƒ«'
  subtitle: 'é–‹ç™ºè€…å‘ã‘ä¾¿åˆ©ãƒ„ãƒ¼ãƒ«'
```

### 2. æ›´æ–°è¯­è¨€é€‰æ‹©å™¨

åœ¨ `src/components/LocaleSelector.vue` ä¸­æ·»åŠ æ–°è¯­è¨€ï¼š

```typescript
const localeNames: Record<string, string> = {
  en: 'English',
  zh: 'ä¸­æ–‡',
  ja: 'æ—¥æœ¬èª', // æ–°å¢
}
```

### 3. é‡å¯å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

ç°åœ¨ä½ çš„åº”ç”¨å·²ç»æ”¯æŒæ–°è¯­è¨€äº†ï¼ğŸ‰

